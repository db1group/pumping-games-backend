{"version":3,"file":"static/js/9896.f87f7d7e.chunk.js","mappings":"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","sources":["../node_modules/keycloakify/src/lib/components/LoginConfigTotp.tsx"],"sourcesContent":["import React, { memo } from \"react\";\nimport DefaultTemplate from \"./Template\";\nimport type { TemplateProps } from \"./Template\";\nimport type { KcProps } from \"./KcProps\";\nimport type { KcContextBase } from \"../getKcContext/KcContextBase\";\nimport { clsx } from \"../tools/clsx\";\nimport type { I18n } from \"../i18n\";\n\nexport type LoginConfigTotpProps = KcProps & {\n    kcContext: KcContextBase.LoginConfigTotp;\n    i18n: I18n;\n    doFetchDefaultThemeResources?: boolean;\n    Template?: (props: TemplateProps) => JSX.Element | null;\n};\n\nconst LoginConfigTotp = memo((props: LoginConfigTotpProps) => {\n    const { kcContext, i18n, doFetchDefaultThemeResources = true, Template = DefaultTemplate, ...kcProps } = props;\n\n    const { url, isAppInitiatedAction, totp, mode, messagesPerField } = kcContext;\n\n    const { msg, msgStr } = i18n;\n\n    const algToKeyUriAlg: Record<KcContextBase.LoginConfigTotp[\"totp\"][\"policy\"][\"algorithm\"], string> = {\n        \"HmacSHA1\": \"SHA1\",\n        \"HmacSHA256\": \"SHA256\",\n        \"HmacSHA512\": \"SHA512\"\n    };\n\n    return (\n        <Template\n            {...{ kcContext, i18n, doFetchDefaultThemeResources, ...kcProps }}\n            headerNode={msg(\"loginTotpTitle\")}\n            formNode={\n                <>\n                    <ol id=\"kc-totp-settings\">\n                        <li>\n                            <p>{msg(\"loginTotpStep1\")}</p>\n\n                            <ul id=\"kc-totp-supported-apps\">\n                                {totp.policy.supportedApplications.map(app => (\n                                    <li>{app}</li>\n                                ))}\n                            </ul>\n                        </li>\n\n                        {mode && mode == \"manual\" ? (\n                            <>\n                                <li>\n                                    <p>{msg(\"loginTotpManualStep2\")}</p>\n                                    <p>\n                                        <span id=\"kc-totp-secret-key\">{totp.totpSecretEncoded}</span>\n                                    </p>\n                                    <p>\n                                        <a href={totp.qrUrl} id=\"mode-barcode\">\n                                            {msg(\"loginTotpScanBarcode\")}\n                                        </a>\n                                    </p>\n                                </li>\n                                <li>\n                                    <p>{msg(\"loginTotpManualStep3\")}</p>\n                                    <p>\n                                        <ul>\n                                            <li id=\"kc-totp-type\">\n                                                {msg(\"loginTotpType\")}: {msg(`loginTotp.${totp.policy.type}`)}\n                                            </li>\n                                            <li id=\"kc-totp-algorithm\">\n                                                {msg(\"loginTotpAlgorithm\")}: {algToKeyUriAlg?.[totp.policy.algorithm] ?? totp.policy.algorithm}\n                                            </li>\n                                            <li id=\"kc-totp-digits\">\n                                                {msg(\"loginTotpDigits\")}: {totp.policy.digits}\n                                            </li>\n                                            {totp.policy.type === \"totp\" ? (\n                                                <li id=\"kc-totp-period\">\n                                                    {msg(\"loginTotpInterval\")}: {totp.policy.period}\n                                                </li>\n                                            ) : (\n                                                <li id=\"kc-totp-counter\">\n                                                    {msg(\"loginTotpCounter\")}: {totp.policy.initialCounter}\n                                                </li>\n                                            )}\n                                        </ul>\n                                    </p>\n                                </li>\n                            </>\n                        ) : (\n                            <li>\n                                <p>{msg(\"loginTotpStep2\")}</p>\n                                <img id=\"kc-totp-secret-qr-code\" src={`data:image/png;base64, ${totp.totpSecretQrCode}`} alt=\"Figure: Barcode\" />\n                                <br />\n                                <p>\n                                    <a href={totp.manualUrl} id=\"mode-manual\">\n                                        {msg(\"loginTotpUnableToScan\")}\n                                    </a>\n                                </p>\n                            </li>\n                        )}\n                        <li>\n                            <p>{msg(\"loginTotpStep3\")}</p>\n                            <p>{msg(\"loginTotpStep3DeviceName\")}</p>\n                        </li>\n                    </ol>\n\n                    <form action={url.loginAction} className={clsx(kcProps.kcFormClass)} id=\"kc-totp-settings-form\" method=\"post\">\n                        <div className={clsx(kcProps.kcFormGroupClass)}>\n                            <div className={clsx(kcProps.kcInputWrapperClass)}>\n                                <label htmlFor=\"totp\" className={clsx(kcProps.kcLabelClass)}>\n                                    {msg(\"authenticatorCode\")}\n                                </label>{\" \"}\n                                <span className=\"required\">*</span>\n                            </div>\n                            <div className={clsx(kcProps.kcInputWrapperClass)}>\n                                <input\n                                    type=\"text\"\n                                    id=\"totp\"\n                                    name=\"totp\"\n                                    autoComplete=\"off\"\n                                    className={clsx(kcProps.kcInputClass)}\n                                    aria-invalid={messagesPerField.existsError(\"totp\")}\n                                />\n\n                                {messagesPerField.existsError(\"totp\") && (\n                                    <span id=\"input-error-otp-code\" className={clsx(kcProps.kcInputErrorMessageClass)} aria-live=\"polite\">\n                                        {messagesPerField.get(\"totp\")}\n                                    </span>\n                                )}\n                            </div>\n                            <input type=\"hidden\" id=\"totpSecret\" name=\"totpSecret\" value={totp.totpSecret} />\n                            {mode && <input type=\"hidden\" id=\"mode\" value={mode} />}\n                        </div>\n\n                        <div className={clsx(kcProps.kcFormGroupClass)}>\n                            <div className={clsx(kcProps.kcInputWrapperClass)}>\n                                <label htmlFor=\"userLabel\" className={clsx(kcProps.kcLabelClass)}>\n                                    {msg(\"loginTotpDeviceName\")}\n                                </label>{\" \"}\n                                {totp.otpCredentials.length >= 1 && <span className=\"required\">*</span>}\n                            </div>\n                            <div className={clsx(kcProps.kcInputWrapperClass)}>\n                                <input\n                                    type=\"text\"\n                                    id=\"userLabel\"\n                                    name=\"userLabel\"\n                                    autoComplete=\"off\"\n                                    className={clsx(kcProps.kcInputClass)}\n                                    aria-invalid={messagesPerField.existsError(\"userLabel\")}\n                                />\n                                {messagesPerField.existsError(\"userLabel\") && (\n                                    <span id=\"input-error-otp-label\" className={clsx(kcProps.kcInputErrorMessageClass)} aria-live=\"polite\">\n                                        {messagesPerField.get(\"userLabel\")}\n                                    </span>\n                                )}\n                            </div>\n                        </div>\n\n                        {isAppInitiatedAction ? (\n                            <>\n                                <input\n                                    type=\"submit\"\n                                    className={clsx(kcProps.kcButtonClass, kcProps.kcButtonPrimaryClass, kcProps.kcButtonLargeClass)}\n                                    id=\"saveTOTPBtn\"\n                                    value={msgStr(\"doSubmit\")}\n                                />\n                                <button\n                                    type=\"submit\"\n                                    className={clsx(\n                                        kcProps.kcButtonClass,\n                                        kcProps.kcButtonDefaultClass,\n                                        kcProps.kcButtonLargeClass,\n                                        kcProps.kcButtonLargeClass\n                                    )}\n                                    id=\"cancelTOTPBtn\"\n                                    name=\"cancel-aia\"\n                                    value=\"true\"\n                                >\n                                    ${msg(\"doCancel\")}\n                                </button>\n                            </>\n                        ) : (\n                            <input\n                                type=\"submit\"\n                                className={clsx(kcProps.kcButtonClass, kcProps.kcButtonPrimaryClass, kcProps.kcButtonLargeClass)}\n                                id=\"saveTOTPBtn\"\n                                value={msgStr(\"doSubmit\")}\n                            />\n                        )}\n                    </form>\n                </>\n            }\n        />\n    );\n});\n\nexport default LoginConfigTotp;\n"],"names":["LoginConfigTotp","memo","props","kcContext","i18n","doFetchDefaultThemeResources","Template","DefaultTemplate","kcProps","__rest","url","isAppInitiatedAction","totp","mode","messagesPerField","msg","msgStr","algToKeyUriAlg","React","Object","headerNode","formNode","id","policy","supportedApplications","map","app","totpSecretEncoded","href","qrUrl","type","algorithm","_a","digits","period","initialCounter","src","totpSecretQrCode","alt","manualUrl","action","loginAction","className","clsx","kcFormClass","method","kcFormGroupClass","kcInputWrapperClass","htmlFor","kcLabelClass","name","autoComplete","kcInputClass","existsError","kcInputErrorMessageClass","get","value","totpSecret","otpCredentials","length","kcButtonClass","kcButtonPrimaryClass","kcButtonLargeClass","kcButtonDefaultClass"],"sourceRoot":""}